---
layout: post
title: "[작성중] Kotlin 문법 정리"
date: 2020-02-16 20:21:35
image: '/assets/img/'
description: '코틀린 기본 문법을 정리합니다.'
tags:
- kotlin
categories:
- Kotlin
---

# 서론

처음 프로그래밍을 접하면서 캠퍼스 생활하면서 필요한 서비스들을 제공해주는 챗봇을 만들었습니다. PHP로 만들었고, 기존 코드는 알아볼 수 없을 정도로 깔끔하지 못해서 이번에 새롭게 만들려고 합니다.

우아한테크코스에서 8개월 동안 자바를 사용해서 자바에 익숙한 상태인데, 이번에 새로운 것을 사용해보고자 코틀린으로 챗봇을 만들어보려고 합니다. 이번 글은 코틀린에 대한 간단한 문법들을 정리하려고 합니다.

---

### \* 코틀린의 특징

1. `Null 허용 여부를 컴파일 단계`에서 검사하므로 런타임에서 발생하는 오류를 줄일 수 있습니다.
2. `코드가 간결`해지며, 가독성도 증가합니다. (코틀린을 처음 봤을 때, lombok을 사용한 것 처럼 getter와 setter가 없어 코드가 깔끔하게 보였습니다.)
3. `완벽한 자바 호환성`
4. `람다, 스트림` 사용이 가능합니다.

---

### \* 변수 정의

`val`는 `값을 할당`하면 그 후에 `변경할 수 없는 변수`로 자바의 final 키워드를 붙인 변수와 같습니다.

```kotlin
  val a: Int = 1
  val b = 2 //Int 타입으로 추론
  val c: Int //나중에 할당하는 방식
  c = 3

  println(a) //1
  println(b) //2
  println(c) //3
```

`var`는 `할당된 값`을 `런타임시 자유롭게 바꿀 수 있는 변수`입니다.

```kotlin
  var a = 5
  a += 1

  println(a) //6
```

---

### \* 함수 정의

`두 개의 변수(Int)`를 받아서 더해서 `결과(Int)를 반환`하는 함수입니다.

```kotlin
  fun sum(a: Int, b: Int): Int {
    return a + b
  }

  println(sum(3, 5)) //8
```

`식 몸체(expression body)`를 사용해서 `리턴 타입을 추론`합니다.

```kotlin
  fun sum(a: Int, b: Int) = a + b

  println(sum(3, 5)) //8
```

`반환 값이 없는 함수`입니다. `Unit은 생략이 가능`하며, 자바에서 Void와 같은 역할을 합니다.

```kotlin
  fun printSumA(a: Int, b: Int): Unit {
    println("Result : ${a + b}")
  }

  fun printSumB(a: Int, b: Int) {
    println("Result : ${a + b}")
  }

  printSumA(3, 5) //Result : 8
  printSumB(3, 5) //Result : 8
```

---

### \* 문자열 템플릿

코틀린은 `문자열 안에서 변수를 가져올 수 있는 문자열 템플릿`이라는 것이 있습니다.

```kotlin
  var name = "Kim"
  var str = "is Hyojae $name"

  var result = "My name ${str.replace("Lim", "Lee")}"
  println(result) //My name is HyojaeLee
```

`$를 문자열`로 사용하고 싶으면 `백슬래시(\)`를 이용해서 `"\$name"` 이와 같이 사용하면 됩니다.

---

### \* 조건식

```kotlin
  fun aMaxOf(a: Int, b: Int): Int {
    if (a > b) {
      return a
    } else {
      return b
    }
  }

  fun bMaxOf(a: Int, b: Int) = if (a > b) a else b

  println(aMaxOf(1, 3)) //3
  println(bMaxOf(1, 3)) //3
```

---

### \* for 루프

```kotlin
  val items = listOf("A", "B", "C")
  for (item in items) {
    println(item)
  }

  for (index in items.indices) {
    println(items[index])
  }
```

---

### \* while 루프

```kotlin
  val items = listOf("A", "B", "C")
  var index = 0

  while (index < items.size) {
    println(items[index])
    index++
  }
```

---

### \* when 식

```kotlin
  fun kotlin(obj: Any): String =
    when (obj) {
      1  -> "Int"
      "1" -> "String"
      is Long -> "Long"
      is Char -> "Char"
      else -> "Unknown"
    }
```

---

### \* 범위 사용

`in 연산자`를 사용하면 범위 안에 속하는지 알 수 있고, `!in 연산자`를 사용하면 범위를 넘어가는지 알 수 있습니다.

```kotlin
  val items = listOf("one", "two", "three")

  if (items.size in 0..items.lastIndex + 1) {
    //아이템의 개수는 3 입니다.
    println("아이템의 개수는 ${items.size} 입니다.")
  }
  if (items.size !in items.indices) {
    //아이템의 개수의 범위는 0..2 입니다.
    println("아이템의 개수의 범위는 ${items.indices} 입니다.")
  }
```

아래와 같이 `범위를 반복`할 수도 있습니다.

```kotlin
  //1 2 3 4 5 6 7 8 9 10
  for (number in 1..10) {
    println(number)
  }

  //1 3 5 7 9
  for (number in 1..10 step 2) {
    println(number)
  }

  //10 8 6 4 2 0
  for (number in 10 downTo 0 step 2) {
    println(number)
  }
```

---
