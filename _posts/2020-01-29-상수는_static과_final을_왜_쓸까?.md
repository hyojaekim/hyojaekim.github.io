---
layout: post
title: "[작성중] [Java] 상수는 왜 static과 final을 같이 쓸까?"
date: 2020-01-28 17:21:35
description: '흔히 상수를 선언하면 static과 final을 같이 쓰곤 합니다. 그렇다면 왜 같이 쓰는지 알아보겠습니다.'
tags:
- java
categories:
- Java
---

## 서론

> private static final String MESSAGE = "Hello World!";

친구에게 상수는 이렇게 쓰는거라고 말해줬습니다. 그러자 친구가 **static과 final은 왜 같이 쓰냐고 질문이 왔습니다.**

인텔리제이에서 단축키로 `prsf`나 `option + command + c`를 입력하면 상수를 만들어주는데 static과 final이 같이 붙습니다. 이렇게 자주 사용하면서 `static과 final은 왜 같이 있어야 하는가?`에 제대로 답변하지 못해서 충격이였습니다.

우아한테크코스에서 처음 자바를 접하고, 8개월 간 자바를 다루면서 많이 안다고 생각했는데 매일 밥을 먹으면서 숟가락은 왜 사용하는지 모르는 것과 같은 느낌이였습니다. 그래서 당분간은 기본서를 보면서 기초를 더 다지려고 합니다.

#### \* 먼저 상수는 뭘까요?

일반적으로 `상수는 불변의 값`을 의미합니다. **`즉, 변하지 않는 값 입니다.`** 예를들어 수학에서 파이는 변하지 않는 값으로 이를 상수라고 합니다. 그렇다면 우리가 자바에서 상수를 만들 때에는 흔히 아래와 같이 사용하고 있습니다.

```java
private static final String MESSAGE = "Hello World!";
```

다시, 글의 주제인 static과 final은 왜 같이 사용하는지 알아봅시다.

#### \* final은 어떤 의미일까?

final 최종적이라는 뜻을 가집니다. 자바에서 final도 마찬가지 입니다. `초기값이 저장되면, 수정 할 수 없는 값`이 됩니다. 그렇다면 final이 변수, 메소드, 클래스에 붙으면 어떤 의미를 가지는지 알아봅시다.

1. **`[final 변수]`**
생성자나 대입연산자(=)를 통해 `한 번만 초기화`가 가능합니다.
2. **`[final 메소드]`**
해당 메소드를 `오버라이드`하거나 `숨길 수 없습니다.`
3. **`[final 클래스]`**
해당 클래스는 `상속할 수 없습니다.` 상속 계층 구조에서 `‘마지막’` 클래스가 됩니다.

#### \* 뭐야.. final만 있어도 불변의 값이니 상수 아닌가?

**`상수(불변의 값)의 조건`을 알아보겠습니다.**

1. **`객체마다 저장할 필요가 없어, 공통적으로 사용`할 수 있어야 한다.**
2. **`여러 가지 값`으로 초기화될 수 없다.**

과연 위 조건에 만족할 수 있을까요?

```java
public class User {
  private final String name;

  public User(String name) {
    this.name = name;
  }
}
```

위 코드를 보면, final만 있어도 상수라고 불릴 수 있는지 없는지 알 수 있습니다. 위 코드는 **`객체마다 저장`되고, 생성자를 통해 `여러 가지 값`을 가질 수 있습니다.** 따라서, final만으로는 상수라고 할 수 없습니다. 그렇다면 앞으로 남은건 static 입니다. **(`1번` 조건이 힌트가 될 수 있습니다.)**

#### \* static은 어떤 의미일까?

static은 `정적인 의미`를 가집니다. 그렇다면 주로 필드나 메소드에 static을 붙이곤 하는데 어떤 의미로 사용하는지 알아보겠습니다.

1. **`[static 필드]`**
해당 필드는 `컴파일 타임에 메모리를 할당`하여, 주로 `공유하기 위해` 사용합니다.
2. **`[static 메소드]`**
해당 메소드는 `객체를 생성하지 않아도 접근이 가능`하여, 주로 `유틸리티 성 메소드`를 위해 사용합니다. 예를 들어 연산, 오늘 날짜 구하기 등이 되겠습니다.

전에 객체마다 저장할 필요가 없고, `공통적으로 사용 할 수 있어야 한다`는 1번 조건이 힌트가 될 수 있다고 했습니다. **따라서 static을 붙이면 `컴파일 타임에 메모리를 할당`하여 `공통적으로 사용`할 수 있기 때문에 static을 붙이면 조건을 만족 합니다.**

#### \* 결론

![static](/assets/img/static&final/static.png)

static 키워드를 사용하면 컴파일 타임에 리모컨을 생성하여, 가족들이 공통적으로 사용할 수 있어, 1번 조건인 **`객체마다 저장할 필요가 없어, 공통적으로 사용`할 수 있어야 한다.는 조건을 만족하게 됩니다.**

---

![final](/assets/img/static&final/final.png)

final 키워드를 사용하면 거실에 있는 리모컨이 다른 리모컨으로 바꿀 수 없어, 2번 조건인 **`여러 가지 값`으로 초기화될 수 없다.는 조건을 만족하게 됩니다.**

그래서 결론은 static과 final을 같이 쓰면 상수의 조건에 만족하게 됩니다.

```java
private static final String MESSAGE = "Hello World!";
```
